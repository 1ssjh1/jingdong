## 用户注册

### 短信发送



` method :GET url :/register?Phone=xxx`

| 请求参数 | 类型 | 解释     |
| -------- | ---- | -------- |
| Phone    | 必选 | 手机号码 |

返回内容：

#### 返回参数 ：

| 返回参数  | 解释  |
|-------|-----|
| state | 状态  |
| msg   | 信息  |


| state | msg       | 解释 |
| ----- |-----------| ---- |
| Ture  | 短信发送成功    | 无   |
| False | 短信发送失败请重试 | 无   |

### 注册



`method :Post;  form 表单`

`url: /register `

| 请求参数 | 类型 | 解释   |
| --------- | ---- | ------ |
| username  | 必选 | 用户名 |
| password  | 必选 | 密码   |
| code      | 必选 | 验证码 |
| number    | 必选 | 验证码 |

#### 返回参数
 |返回参数| 解释|
|---|---|
|state|状态|
|msg|信息|


返回内容

| status | msg                | 解释           |
|--------|--------------------| -------------- |
| false  | 参数绑定失败             | 参数错误       |
| false  | 验证码超时              | 验证码超时 |
| false  | 验证码错误              |验证码错误|
| false  | 用户名已存在 要不登录试试      | 重复注册       |
| false  | 注册失败               | 数据库操作失败 |
| false  | 手机号已经被注册           | 手机号重复绑定 |
| ture   | 注册成功               | 可以Happy了    |

### 登录

`Post :/login ;  form 表单`

请求内容

| 请求参数 | 类型 | 说明     |
| -------- | ---- | -------- |
| username | 必选 | 用户名   |
| password | 必选 | 用户密码 |

返回参数

|返回参数|解释|
|---|---|
|state|状态|
|msg|解释|
|Token|认证Token|

| state | msg                | 说明              |
| ----- | ------------------ | ----------------- |
| false | 参数绑定失败       | 缺少参数          |
| false | 登录失败           | 数据库操作失败    |
| false | 你还没注册登录个屁 | 用户未注册        |
| false | 密码错误           | 无                |
| true  | " "         | 可以开心的Happy了 |
<<<<<<< HEAD
 ### 退出登录
`method Get url /logout`

| 返回参数| 解释   |
|---|------|
|state| 状态   |
|msg| 信息解释 |

返回内容

|state|msg|解释|
|---|---|---|
|false|退出登录失败|未知错误|
|false|你丫还没登录呢|用户未登录|
|true|退出登录成功|无|



## 用户模块
 ### 查询余额
`method Get url /user/balance form表单`

请求内容

| 请求参数     | 类型 | 说明     |
|----------| ---- | --- |
| token    | 必选 | token |

|返回参数| 说明         |
|---|------------|
|state| 状态         |
|msg| 信息         |
|balance| 余额（成功才会返回） |

返回内容

|state|msg| balance              |
|---|---|----------------------|
|false|参数绑定失败| 缺少参数                 |
|false|身份验证失败| 身份验证错误               |
|false|查找失败| 信息查找失败               |
|false|未查到用户信息| 信息缺失（这里会改 先检验用户是否存在） |

### 充值余额
` method post url /user/balance form 表单`

请求内容


|请求参数|类型|说明|
|---|---|---|
|balance|必选|充值金额|
|token|必选|验证toekn|



|返回参数|说明|
|---|---|
|state|状态|
|msg|信息|


返回内容

|state|msg|说明|
|---|---|---|
|false|参数绑定失败|参数错误|
|false|用户信息不匹配|身份校验失败|
|false|充值失败|数据库操作失败|
|true|充值成功|

### 查看订单

`method GET url:/user/order form-date`

请求参数

| 请求参数 | 说明       |
| -------- | ---------- |
| token    | 认证 token |

返回参数

| 返回参数 | 说明                          |
| -------- | ----------------------------- |
| state    | 状态                          |
| msg      | 失败返回原因/成功返回所有信息 |

返回实例

| state | msg          |
| ----- | ------------ |
| false | 参数错误     |
| false | 身份验证失败 |
| false | nil          |
| true  | 略           |

### 确认收货

`method PUT url:/user/order form-date`

请求参数

| 请求参数 | 说明      |
| -------- | --------- |
| token    | 认证token |
| oid      | 订单id    |

返回参数

| 返回参数 | 说明     |
| -------- | -------- |
| state    | 状态     |
| msg      | 详细信息 |

返回实例

| state | msg               | 说明           |
| ----- | ----------------- | -------------- |
| false | 参数绑定失败      |                |
| false | 身份验证失败      |                |
| false | 失败              | 数据库操作失败 |
| false | 还没发货呢 着啥急 |                |
| false | 错误              |                |
| true  | 确认收货成功      |                |

### 删除订单

`mehthod DELETE url:/user/order  form-date`

请求参数

| 请求参数 | 说明      |
| -------- | --------- |
| token    | 认证token |
| oid      | 订单id    |

返回参数

| 返回参数 | 说明 |
| -------- | ---- |
| state    | 状态 |
| msg      | 信息 |

返回实例

| state | msg                       |
| ----- | ------------------------- |
| false | 参数绑定失败              |
| false | 身份验证失败              |
| false | 失败                      |
| false | 怎么可以动别人的订单呢    |
| false | 已经完成订单 概不负责了哦 |
| true  | 订单销毁成功              |



## 商城模块

### 获取所有商品信息

`method GET url: /shop/all  form 表单` 

请求内容

| 请求参数     | 类型 | 说明     |
|----------| ---- | --- |
| token    | 必选 | token |


|返回参数| 说明                        |
|---|---------------------------|
|state| 状态                        |
|msg| 信息(请求正确时返回所有商品信息，失败返回失败原因）|

#### msg 详解
``` 

[ 
  一条商品信息
    {
        "Gid": 1,
        "Name": "快乐",
        "Sales": 100,
        "Commit": 1,
        "Grate": 100,
        "Introduce": "售卖快乐",
        "Choose": [
        
        //Choose 为商品种类
        
            {
                "Cid": 1,
                "Types": "轻度快乐",
                "Price": 100
            },
            {
                "Cid": 2,
                "Types": "重度快乐",
                "Price": 120
            }
        ]
    },

]
```

### 加入购物车

` method :post   Url: /shop/chart form-date`

请求内容

|   参数   | 类型 | 说明       |
| :------: | ---- | ---------- |
|   cid    | 必选 | 商品类型Id |
|  count   | 必选 | 数量       |
|  token   | 必选 | 认证token  |

返回参数

| 返回参数 | 说明 |
| -------- | ---- |
| msg      | 信息 |
| state    | 状态 |

返回实例

| state | msg                          | 说明           |
| ----- | ---------------------------- | -------------- |
| false | 参数绑定错误                 | 缺少参数       |
| false | 身份验证失败                 | 身份校验失败   |
| false | 已经加入购物车 试试别的吧    | 重复加入       |
| false | ""                           | 数据库操作失败 |
| true  | 你的宝贝已经躺在购物车里了哦 |                |

### 获取购物车信息

`method GET url:/shop/chart  form-date`  

请求参数

| 请求参数 | 类型 | 说明      |
| -------- | ---- | --------- |
| token    | 必选 | 认证token |

返回参数

| 返回参数 | 说明                                        |
| -------- | ------------------------------------------- |
| state    | 状态                                        |
| msg      | 信息（成功返回所有购物车信息 失败返回原因） |

返回实例

| state | msg            |
| ----- | -------------- |
| false | 参数绑定错误   |
| false | 查询失败       |
| false | 身份验证失败   |
| true  | 所有购物车信息 |





### 修改购物车

` method PUT url:/shop/chart form-date`



请求参数

` count ==0 表示从购物车移除该商品 可供修改cid 和 count  `

| 请求参数 | 类型 | 说明      |
| -------- | ---- | --------- |
| gid      | 必选 | 商品id    |
| cid      | 必选 | 类型Id    |
| count    | 必选 | 数量      |
| token    | 必选 | 认证token |

返回参数



| 返回参数 | 说明     |
| -------- | -------- |
| state    | 状态     |
| msg      | 详细信息 |

返回实例



| state | msg                    |
| ----- | ---------------------- |
| false | 参数绑定失败           |
| false | 身份验证失败           |
| false | 失败（数据库操作失败） |
| false | 用户信息不匹配         |
| true  | 宝贝忍痛离开了购物车   |
| true  | 操作失败               |

### 生成订单

` method POST url:shop/order form-date`

请求参数

| 请求参数 | 说明                    |
| -------- | ----------------------- |
| chart_id | 购物车商品id 可提交多个 |
| token    | 认证token               |

返回参数

| 返回参数 | 说明     |
| -------- | -------- |
| state    | 状态     |
| msg      | 具体信息 |

返回实例

| state | msg                    |
| ----- | ---------------------- |
| false | 参数绑定失败           |
| false | 身份验证失败           |
| false | 错误（数据库操作失败） |
| false | 订单创建失败           |
| false | 你个穷逼               |
| true  | 订单创建成功           |



